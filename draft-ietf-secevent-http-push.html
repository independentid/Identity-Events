<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>Push-Based SET Token Delivery Using HTTP</title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
      /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
      a.info {
          /* This is the key. */
          position: relative;
          z-index: 24;
          text-decoration: none;
      }
      a.info:hover {
          z-index: 25;
          color: #FFF; background-color: #900;
      }
      a.info span { display: none; }
      a.info:hover span.info {
          /* The span will display just on :hover state. */
          display: block;
          position: absolute;
          font-size: smaller;
          top: 2em; left: -5em; width: 15em;
          padding: 2px; border: 1px solid #333;
          color: #900; background-color: #EEE;
          text-align: left;
      }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  max-width: 55em;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction and Overview">
<link href="#rfc.section.1.1" rel="Chapter" title="1.1 Notational Conventions">
<link href="#rfc.section.1.2" rel="Chapter" title="1.2 Definitions">
<link href="#rfc.section.2" rel="Chapter" title="2 SET Delivery">
<link href="#rfc.section.2.1" rel="Chapter" title="2.1 Transmitting a SET">
<link href="#rfc.section.2.2" rel="Chapter" title="2.2 Success Response">
<link href="#rfc.section.2.3" rel="Chapter" title="2.3 Failure Response">
<link href="#rfc.section.2.4" rel="Chapter" title="2.4 Security Event Token Delivery Error Codes">
<link href="#rfc.section.3" rel="Chapter" title="3 Authentication and Authorization">
<link href="#rfc.section.4" rel="Chapter" title="4 Delivery Reliability">
<link href="#rfc.section.5" rel="Chapter" title="5 Security Considerations">
<link href="#rfc.section.5.1" rel="Chapter" title="5.1 Authentication Using Signed SETs">
<link href="#rfc.section.5.2" rel="Chapter" title="5.2 TLS Support Considerations">
<link href="#rfc.section.5.3" rel="Chapter" title="5.3 Denial of Service">
<link href="#rfc.section.6" rel="Chapter" title="6 Privacy Considerations">
<link href="#rfc.section.7" rel="Chapter" title="7 IANA Considerations">
<link href="#rfc.section.7.1" rel="Chapter" title="7.1 Security Event Token Delivery Error Codes">
<link href="#rfc.section.7.1.1" rel="Chapter" title="7.1.1 Registration Template">
<link href="#rfc.section.7.1.2" rel="Chapter" title="7.1.2 Initial Registry Contents">
<link href="#rfc.references" rel="Chapter" title="8 References">
<link href="#rfc.references.1" rel="Chapter" title="8.1 Normative References">
<link href="#rfc.references.2" rel="Chapter" title="8.2 Informative References">
<link href="#rfc.appendix.A" rel="Chapter" title="A Other Streaming Specifications">
<link href="#rfc.appendix.B" rel="Chapter" title="B Acknowledgments">
<link href="#rfc.appendix.C" rel="Chapter" title="C Change Log">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content="xml2rfc version 2.7.0 - http://tools.ietf.org/tools/xml2rfc" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />

  <meta name="dct.creator" content="Backman, A., Ed., Jones, M., Ed., Scurtescu, M., Ansari, M., and A. Nadalin" />
  <meta name="dct.identifier" content="urn:ietf:id:draft-ietf-secevent-http-push-01" />
  <meta name="dct.issued" scheme="ISO8601" content="2018-10-1" />
  <meta name="dct.abstract" content="This specification defines how a Security Event Token (SET) may be delivered to an intended recipient using HTTP POST.  The SET is transmitted in the body of an HTTP POST reqest to an endpoint operated by the recipient, and the recipient indicates successful or failed transmission via the HTTP response.  " />
  <meta name="description" content="This specification defines how a Security Event Token (SET) may be delivered to an intended recipient using HTTP POST.  The SET is transmitted in the body of an HTTP POST reqest to an endpoint operated by the recipient, and the recipient indicates successful or failed transmission via the HTTP response.  " />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left">Security Events Working Group</td>
<td class="right">A. Backman, Ed.</td>
</tr>
<tr>
<td class="left">Internet-Draft</td>
<td class="right">Amazon</td>
</tr>
<tr>
<td class="left">Intended status: Standards Track</td>
<td class="right">M. Jones, Ed.</td>
</tr>
<tr>
<td class="left">Expires: April 4, 2019</td>
<td class="right">Microsoft</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">M. Scurtescu</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">Google</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">M. Ansari</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">Cisco</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">A. Nadalin</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">Microsoft</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">October 1, 2018</td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">Push-Based SET Token Delivery Using HTTP<br />
  <span class="filename">draft-ietf-secevent-http-push-01</span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>This specification defines how a Security Event Token (SET) may be delivered to an intended recipient using HTTP POST.  The SET is transmitted in the body of an HTTP POST reqest to an endpoint operated by the recipient, and the recipient indicates successful or failed transmission via the HTTP response.  </p>
<h1 id="rfc.status"><a href="#rfc.status">Status of This Memo</a></h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet-Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on April 4, 2019.</p>
<h1 id="rfc.copyrightnotice"><a href="#rfc.copyrightnotice">Copyright Notice</a></h1>
<p>Copyright (c) 2018 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction and Overview</a>
</li>
<ul><li>1.1.   <a href="#rfc.section.1.1">Notational Conventions</a>
</li>
<li>1.2.   <a href="#rfc.section.1.2">Definitions</a>
</li>
</ul><li>2.   <a href="#rfc.section.2">SET Delivery</a>
</li>
<ul><li>2.1.   <a href="#rfc.section.2.1">Transmitting a SET</a>
</li>
<li>2.2.   <a href="#rfc.section.2.2">Success Response</a>
</li>
<li>2.3.   <a href="#rfc.section.2.3">Failure Response</a>
</li>
<li>2.4.   <a href="#rfc.section.2.4">Security Event Token Delivery Error Codes</a>
</li>
</ul><li>3.   <a href="#rfc.section.3">Authentication and Authorization</a>
</li>
<li>4.   <a href="#rfc.section.4">Delivery Reliability</a>
</li>
<li>5.   <a href="#rfc.section.5">Security Considerations</a>
</li>
<ul><li>5.1.   <a href="#rfc.section.5.1">Authentication Using Signed SETs</a>
</li>
<li>5.2.   <a href="#rfc.section.5.2">TLS Support Considerations</a>
</li>
<li>5.3.   <a href="#rfc.section.5.3">Denial of Service</a>
</li>
</ul><li>6.   <a href="#rfc.section.6">Privacy Considerations</a>
</li>
<li>7.   <a href="#rfc.section.7">IANA Considerations</a>
</li>
<ul><li>7.1.   <a href="#rfc.section.7.1">Security Event Token Delivery Error Codes</a>
</li>
<ul><li>7.1.1.   <a href="#rfc.section.7.1.1">Registration Template</a>
</li>
<li>7.1.2.   <a href="#rfc.section.7.1.2">Initial Registry Contents</a>
</li>
</ul></ul><li>8.   <a href="#rfc.references">References</a>
</li>
<ul><li>8.1.   <a href="#rfc.references.1">Normative References</a>
</li>
<li>8.2.   <a href="#rfc.references.2">Informative References</a>
</li>
</ul><li>Appendix A.   <a href="#rfc.appendix.A">Other Streaming Specifications</a>
</li>
<li>Appendix B.   <a href="#rfc.appendix.B">Acknowledgments</a>
</li>
<li>Appendix C.   <a href="#rfc.appendix.C">Change Log</a>
</li>
<li><a href="#rfc.authors">Authors' Addresses</a>
</li>


  </ul>

  <h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> <a href="#intro" id="intro">Introduction and Overview</a>
</h1>
<p id="rfc.section.1.p.1">This specification defines a mechanism by which a holder of a <a href="#RFC8417" class="xref">Security Event Token (SET)</a> may deliver the SET to an intended recipient via <a href="#RFC7231" class="xref">HTTP POST</a>.  </p>
<p id="rfc.section.1.p.2">Push-Based SET Delivery over HTTP POST is intended for scenarios where all of the following apply: </p>

<ul>
<li>The holder of the SET is capable of making outbound HTTP requests.</li>
<li>The recipient is capable of hosting an HTTP endpoint that is accessible to the transmitter.  </li>
<li>The transmitter and recipient are known to one another.</li>
<li>The transmitter and recipient have an out-of-band mechanism for exchanging configuration metadata such as endpoint URLs and security key parameters.  </li>
</ul>

<p> </p>
<h1 id="rfc.section.1.1">
<a href="#rfc.section.1.1">1.1.</a> <a href="#notat" id="notat">Notational Conventions</a>
</h1>
<p id="rfc.section.1.1.p.1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in BCP 14 <a href="#RFC2119" class="xref">[RFC2119]</a> <a href="#RFC8174" class="xref">[RFC8174]</a> when, and only when, they appear in all capitals, as shown here.  </p>
<p id="rfc.section.1.1.p.2">Throughout this documents all figures may contain spaces and extra line-wrapping for readability and space limitations.  </p>
<h1 id="rfc.section.1.2">
<a href="#rfc.section.1.2">1.2.</a> <a href="#defs" id="defs">Definitions</a>
</h1>
<p id="rfc.section.1.2.p.1">This specification utilizes terminology defined in <a href="#RFC8417" class="xref">[RFC8417]</a>, as well as the terms defined below: </p>
<p></p>

<dl>
<dt>SET Transmitter</dt>
<dd style="margin-left: 8">
<br> An entity that delivers SETs in its possession to one or more SET Receivers.  </dd>
<dt>SET Receiver</dt>
<dd style="margin-left: 8">
<br> An entity that operates an endpoint where it expects to receive SETs from one or more SET Transmitters.  </dd>
</dl>

<p> </p>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> SET Delivery</h1>
<p id="rfc.section.2.p.1">To deliver a SET to a given SET Receiver, the SET Transmitter makes a SET Transmission Request to the SET Receiver, with the SET itself contained within the request. The SET Receiver replies to this request with a response either acknowledging successful transmission of the SET, or indicating that an error occurred while receiving, parsing, and/or validating the SET.  </p>
<p id="rfc.section.2.p.2">Upon receipt of a SET, the SET Receiver SHALL validate that all of the following are true: </p>

<ul>
<li>The SET Receiver can parse the SET.</li>
<li>The SET is authentic (i.e. it was issued by the issuer specified within the SET).  </li>
<li>The SET Receiver is identified as the intended audience of the SET.  </li>
</ul>

<p> </p>
<p id="rfc.section.2.p.3">The mechanisms by which the SET Receiver performs this validation are out-of-scope for this document. SET parsing and issuer and audience identification are defined in <a href="#RFC8417" class="xref">[RFC8417]</a>.  The mechanism for validating the authenticity of a SET is implementation specific, and may vary depending on the authentication mechanisms in use, and whether the SET is signed and/or encrypted (See <a href="#aa" class="xref">Section 3</a>).  </p>
<p id="rfc.section.2.p.4">The SET Receiver SHOULD ensure that the SET is persisted in a way that is sufficient to meet the SET Receiver's own reliability requirements, and MUST NOT expect or depend on a SET Transmitter to re-transmit or otherwise make available to the SET Receiver a SET once the SET Receiver acknowledges that it was received successfully.  </p>
<p id="rfc.section.2.p.5">Once the SET has been validated and persisted, the SET Receiver SHOULD immediately return a response indicating that the SET was successfully delivered. The SET Receiver SHOULD NOT perform extensive business logic that processes the event expressed by the SET prior to sending this response.  Such logic SHOULD be executed asynchronously from delivery, in order to minimize the expense and impact of SET delivery on the SET Transmitter.  </p>
<p id="rfc.section.2.p.6">The SET Transmitter SHOULD NOT re-transmit a SET, unless the response from the SET Receiver in previous transmissions indicated a potentially recoverable error (such as server unavailability that may be transient, or a decryption failure that may be due to misconfigured keys on the SET Receiver's side).  In the latter case, the SET Transmitter MAY re-transmit a SET, after an appropriate delay to avoid overwhelming the SET Receiver (see <a href="#reliability" class="xref">Section 4</a>).  </p>
<p id="rfc.section.2.p.7">The SET Transmitter MAY provide an out-of-band mechanism by which a SET Receiver may be notified of delivery failures, and MAY retain SETs that it failed to deliver and make them available to the SET Receiver via other means.  </p>
<p id="rfc.section.2.p.8">Transmitted SETs SHOULD be self-validating (e.g. signed) if there is a requirement to verify they were issued by the SET Transmitter at a later date when de-coupled from the original delivery where authenticity could be checked via the HTTP or TLS mutual authentication.  </p>
<h1 id="rfc.section.2.1">
<a href="#rfc.section.2.1">2.1.</a> <a href="#httpPost" id="httpPost">Transmitting a SET</a>
</h1>
<p id="rfc.section.2.1.p.1">To transmit a SET to a SET Receiver, the SET Transmitter makes an HTTP POST request to an HTTP endpoint provided by the SET Receiver.  The <samp>Content-Type</samp> header of this request MUST be "application/secevent+jwt" as defined in <a href="#RFC8417" class="xref">Sections 2.2 and 6.2 of RFC8417</a>, and the <samp>Accept</samp> header MUST be "application/json".  The request body MUST consist of the SET itself, represented as a <a href="#RFC7519" class="xref">JWT</a>.  </p>
<p id="rfc.section.2.1.p.2">The mechanisms by which the SET Transmitter determines the HTTP endpoint to use when transmitting a SET to a given SET Receiver are not defined by this specification and may be implementation-specific.  </p>
<div id="rfc.figure.1"></div>
<div id="postSet"></div>
<p>The following is a non-normative example of a SET transmission request: </p>
<pre>POST /Events  HTTP/1.1
Host: notify.examplerp.com
Accept: application/json
Content-Type: application/secevent+jwt

eyJhbGciOiJub25lIn0
.
eyJwdWJsaXNoZXJVcmkiOiJodHRwczovL3NjaW0uZXhhbXBsZS5jb20iLCJmZWV
kVXJpcyI6WyJodHRwczovL2podWIuZXhhbXBsZS5jb20vRmVlZHMvOThkNTI0Nj
FmYTViYmM4Nzk1OTNiNzc1NCIsImh0dHBzOi8vamh1Yi5leGFtcGxlLmNvbS9GZ
WVkcy81ZDc2MDQ1MTZiMWQwODY0MWQ3Njc2ZWU3Il0sInJlc291cmNlVXJpcyI6
WyJodHRwczovL3NjaW0uZXhhbXBsZS5jb20vVXNlcnMvNDRmNjE0MmRmOTZiZDZ
hYjYxZTc1MjFkOSJdLCJldmVudFR5cGVzIjpbIkNSRUFURSJdLCJhdHRyaWJ1dG
VzIjpbImlkIiwibmFtZSIsInVzZXJOYW1lIiwicGFzc3dvcmQiLCJlbWFpbHMiX
SwidmFsdWVzIjp7ImVtYWlscyI6W3sidHlwZSI6IndvcmsiLCJ2YWx1ZSI6Impk
b2VAZXhhbXBsZS5jb20ifV0sInBhc3N3b3JkIjoibm90NHUybm8iLCJ1c2VyTmF
tZSI6Impkb2UiLCJpZCI6IjQ0ZjYxNDJkZjk2YmQ2YWI2MWU3NTIxZDkiLCJuYW
1lIjp7ImdpdmVuTmFtZSI6IkpvaG4iLCJmYW1pbHlOYW1lIjoiRG9lIn19fQ
.</pre>
<p class="figure">Figure 1: Example SET Transmission Request</p>
<h1 id="rfc.section.2.2">
<a href="#rfc.section.2.2">2.2.</a> <a href="#successResponse" id="successResponse">Success Response</a>
</h1>
<p id="rfc.section.2.2.p.1">If the SET is determined to be valid, the SET Receiver SHALL "acknowledge" successful transmission by responding with HTTP Response Status Code 202 (see <a href="#RFC7231" class="xref">Section 6.3.3 of RFC7231</a>).  The body of the response MUST be empty.  </p>
<div id="rfc.figure.2"></div>
<div id="goodPostResponse"></div>
<p>The following is a non-normative example of a successful receipt of a SET.</p>
<pre>HTTP/1.1 202 Accepted</pre>
<p class="figure">Figure 2: Example Successful Delivery Response</p>
<p id="rfc.section.2.2.p.2">Note that the purpose of the "acknowledgement" response is to let the SET Transmitter know that a SET has been delivered and the information no longer needs to be retained by the SET Transmitter.  Before acknowledgement, SET Receivers SHOULD ensure they have validated received SETs and retained them in a manner appropriate to information retention requirements appropriate to the SET event types signaled. The level and method of retention of SETs by SET Receivers is out-of-scope of this specification.</p>
<h1 id="rfc.section.2.3">
<a href="#rfc.section.2.3">2.3.</a> <a href="#failureResponse" id="failureResponse">Failure Response</a>
</h1>
<p id="rfc.section.2.3.p.1">In the event of a general HTTP error condition, the SET Receiver MAY respond with an appropriate HTTP Status Code as defined in <a href="#RFC7231" class="xref">Section 6 of RFC7231</a>.</p>
<p id="rfc.section.2.3.p.2">When the SET Receiver detects an error parsing or validating a SET transmitted in a SET Transmission Request, the SET Receiver SHALL respond with an HTTP Response Status Code of 400.  The <samp>Content-Type</samp> header of this response MUST be "application/json", and the body MUST be a JSON object containing the following name/value pairs: </p>

<dl>
<dt>err</dt>
<dd style="margin-left: 8">A Security Event Token Error Code (see <a href="#error_codes" class="xref">Section 2.4</a>).  </dd>
<dt>description</dt>
<dd style="margin-left: 8">Human-readable text that describes the error and MAY contain additional diagnostic information.  </dd>
</dl>

<p> </p>
<div id="rfc.figure.3"></div>
<div id="badPostResponse"></div>
<p>The following is an example non-normative error response.</p>
<pre>HTTP/1.1 400 Bad Request
Content-Type: application/json

{
"err":"dup",
"description":"SET already received. Ignored."

}</pre>
<p class="figure">Figure 3: Example Error Response</p>
<h1 id="rfc.section.2.4">
<a href="#rfc.section.2.4">2.4.</a> <a href="#error_codes" id="error_codes">Security Event Token Delivery Error Codes</a>
</h1>
<p id="rfc.section.2.4.p.1">Security Event Token Delivery Error Codes are strings that identify a specific type of error that may occur when parsing or validating a SET.  Every Security Event Token Delivery Error Code MUST have a unique name registered in the IANA "Security Event Token Delivery Error Codes" registry established by <a href="#iana_set_errors" class="xref">Section 7.1</a>.</p>
<p id="rfc.section.2.4.p.2">The following table presents the initial set of Error Codes that are registered in the IANA "Security Event Token Delivery Error Codes" registry:</p>
<div id="rfc.table.1"></div>
<div id="reqErrors"></div>
<table cellpadding="3" cellspacing="0" class="tt full center">
<caption>SET Delivery Error Codes</caption>
<thead><tr>
<th class="left">Error Code</th>
<th class="left">Description</th>
</tr></thead>
<tbody>
<tr>
<td class="left">json</td>
<td class="left">Invalid JSON object.</td>
</tr>
<tr>
<td class="left">jwtParse</td>
<td class="left">Invalid or unparsable JWT or JSON structure.</td>
</tr>
<tr>
<td class="left">jwtHdr</td>
<td class="left">In invalid JWT header was detected.</td>
</tr>
<tr>
<td class="left">jwtCrypto</td>
<td class="left">Unable to parse due to unsupported algorithm.</td>
</tr>
<tr>
<td class="left">jws</td>
<td class="left">Signature was not validated.</td>
</tr>
<tr>
<td class="left">jwe</td>
<td class="left">Unable to decrypt JWE encoded data.</td>
</tr>
<tr>
<td class="left">jwtAud</td>
<td class="left">Invalid audience value.</td>
</tr>
<tr>
<td class="left">jwtIss</td>
<td class="left">Issuer not recognized.</td>
</tr>
<tr>
<td class="left">setType</td>
<td class="left">An unexpected Event type was received.</td>
</tr>
<tr>
<td class="left">setParse</td>
<td class="left">Invalid structure was encountered such as an inability to parse or an incomplete set of Event claims.</td>
</tr>
<tr>
<td class="left">setData</td>
<td class="left">SET event claims incomplete or invalid.</td>
</tr>
<tr>
<td class="left">dup</td>
<td class="left">A duplicate SET was received and has been ignored.</td>
</tr>
</tbody>
</table>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> <a href="#aa" id="aa">Authentication and Authorization</a>
</h1>
<p id="rfc.section.3.p.1">The SET delivery method described in this specification is based upon HTTP and depends on the use of TLS and/or standard HTTP authentication and authorization schemes as per <a href="#RFC7235" class="xref">[RFC7235]</a>.  </p>
<p id="rfc.section.3.p.2">Because SET Delivery describes a simple function, authorization for the ability to pick-up or deliver SETs can be derived by considering the identity of the SET issuer, or via other employed authentication methods.  Because SETs are not commands (see ), SET Receivers are free to ignore SETs that are not of interest.</p>
<h1 id="rfc.section.4">
<a href="#rfc.section.4">4.</a> <a href="#reliability" id="reliability">Delivery Reliability</a>
</h1>
<p id="rfc.section.4.p.1">Delivery reliability requirements may vary from implementation to implementation.  This specification defines the response from the SET Receiver in such a way as to provide the SET Transmitter with the information necessary to determine what further action is required, if any, in order to meet their requirements.  SET Transmitters with high reliability requirements may be tempted to always retry failed transmissions, however it should be noted that for many types of SET delivery errors, a retry is extremely unlikely to be successful.  For example, <samp>json</samp>, <samp>jwtParse</samp>, and <samp>setParse</samp> all indicate structural errors in the content of the SET that are likely to remain when re-transmitting the same SET.  Others such as <samp>jws</samp> or <samp>jwe</samp> may be transient, for example if cryptographic material has not been properly distributed to the SET Receiver's systems.  </p>
<p id="rfc.section.4.p.2">Implementers SHOULD evaluate their reliability requirements and the impact of various retry mechanisms on the performance of their systems to determine the correct strategy for various error conditions.  </p>
<h1 id="rfc.section.5">
<a href="#rfc.section.5">5.</a> <a href="#Security" id="Security">Security Considerations</a>
</h1>
<h1 id="rfc.section.5.1">
<a href="#rfc.section.5.1">5.1.</a> <a href="#payloadAuthentication" id="payloadAuthentication">Authentication Using Signed SETs</a>
</h1>
<p id="rfc.section.5.1.p.1">In scenarios where HTTP authorization or TLS mutual authentication are not used or are considered weak, JWS signed SETs SHOULD be used (see <a href="#RFC7515" class="xref">[RFC7515]</a> and <a href="#RFC8417" class="xref">Security Considerations</a>). This enables the SET Receiver to validate that the SET issuer is authorized to deliver SETs.  </p>
<h1 id="rfc.section.5.2">
<a href="#rfc.section.5.2">5.2.</a> TLS Support Considerations</h1>
<p id="rfc.section.5.2.p.1">SETs contain sensitive information that is considered PII (e.g. subject claims). Therefore, SET Transmitters and SET Receivers MUST require the use of a transport-layer security mechanism. Event delivery endpoints MUST support TLS 1.2 <a href="#RFC5246" class="xref">[RFC5246]</a> and MAY support additional transport-layer mechanisms meeting its security requirements.  When using TLS, the client MUST perform a TLS/SSL server certificate check, per <a href="#RFC6125" class="xref">[RFC6125]</a>. Implementation security considerations for TLS can be found in "Recommendations for Secure Use of TLS and DTLS" <a href="#RFC7525" class="xref">[RFC7525]</a>.</p>
<h1 id="rfc.section.5.3">
<a href="#rfc.section.5.3">5.3.</a> Denial of Service</h1>
<p id="rfc.section.5.3.p.1">The SET Receiver may be vulnerable to a denial-of-service attack where a malicious party makes a high volume of requests containing invalid SETs, causing the endpoint to expend significant resources on cryptographic operations that are bound to fail. This may be mitigated by authenticating SET Transmitters with a mechanism with low runtime overhead, such as mutual TLS or statically assigned bearer tokens.  </p>
<h1 id="rfc.section.6">
<a href="#rfc.section.6">6.</a> Privacy Considerations</h1>
<p id="rfc.section.6.p.1">If a SET needs to be retained for audit purposes, JWS MAY be used to provide verification of its authenticity.</p>
<p id="rfc.section.6.p.2">When sharing personally identifiable information or information that is otherwise considered confidential to affected users, SET Transmitters and Receivers MUST have the appropriate legal agreements and user consent or terms of service in place.</p>
<p id="rfc.section.6.p.3">The propagation of subject identifiers can be perceived as personally identifiable information. Where possible, SET Transmitters and Receivers SHOULD devise approaches that prevent propagation -- for example, the passing of a hash value that requires the subscriber to already know the subject.</p>
<h1 id="rfc.section.7">
<a href="#rfc.section.7">7.</a> <a href="#IANA" id="IANA">IANA Considerations</a>
</h1>
<h1 id="rfc.section.7.1">
<a href="#rfc.section.7.1">7.1.</a> <a href="#iana_set_errors" id="iana_set_errors">Security Event Token Delivery Error Codes</a>
</h1>
<p id="rfc.section.7.1.p.1">This document defines Security Event Token Delivery Error Codes, for which IANA is asked to create and maintain a new registry titled "Security Event Token Delivery Error Codes".  Initial values for the Security Event Token Delivery Error Codes registry are given in <a href="#reqErrors" class="xref">Table 1</a>.  Future assignments are to be made through the Expert Review registration policy (<a href="#RFC8126" class="xref">[RFC8126]</a>) and shall follow the template presented in <a href="#iana_set_errors_template" class="xref">Section 7.1.1</a>.  </p>
<h1 id="rfc.section.7.1.1">
<a href="#rfc.section.7.1.1">7.1.1.</a> <a href="#iana_set_errors_template" id="iana_set_errors_template">Registration Template</a>
</h1>
<p></p>

<dl>
<dt>Error Code</dt>
<dd style="margin-left: 8">
<br> The name of the Security Event Token Delivery Error Code, as described in <a href="#error_codes" class="xref">Section 2.4</a>. The name MUST be a case-sensitive ASCII string consisting only of upper-case letters ("A" - "Z"), lower-case letters ("a" - "z"), and digits ("0" - "9").  </dd>
<dt>Description</dt>
<dd style="margin-left: 8">
<br> A brief human-readable description of the Security Event Token Delivery Error Code.  </dd>
<dt>Change Controller</dt>
<dd style="margin-left: 8">
<br> For error codes registered by the IETF or its working groups, list "IETF Secevent Working Group".  For all other error codes, list the name of the party responsible for the registration.  Contact information such as mailing address, email address, or phone number may also be provided.  </dd>
<dt>Defining Document(s)</dt>
<dd style="margin-left: 8">
<br> A reference to the document or documents that define the Security Event Token Delivery Error Code. The definition MUST specify the name and description of the error code, and explain under what circumstances the error code may be used. URIs that can be used to retrieve copies of each document at no cost SHOULD be included.  </dd>
</dl>

<p> </p>
<h1 id="rfc.section.7.1.2">
<a href="#rfc.section.7.1.2">7.1.2.</a> Initial Registry Contents</h1>
<p></p>

<ul>
<li>
<dl>
<dt>Error Code</dt>
<dd style="margin-left: 8">
<br>json</dd>
<dt>Description</dt>
<dd style="margin-left: 8">
<br>Invalid JSON object.</dd>
<dt>Change Controller</dt>
<dd style="margin-left: 8">
<br>IETF Secevent Working Group</dd>
<dt>Defining Document(s)</dt>
<dd style="margin-left: 8">
<br> <a href="#error_codes" class="xref">Section 2.4</a> of this document.  </dd>
</dl>
<p> </p>
</li>
<li>
<dl>
<dt>Error Code</dt>
<dd style="margin-left: 8">
<br>jwtParse</dd>
<dt>Description</dt>
<dd style="margin-left: 8">
<br>Invalid or unparsable JWT or JSON structure.</dd>
<dt>Change Controller</dt>
<dd style="margin-left: 8">
<br>IETF Secevent Working Group</dd>
<dt>Defining Document(s)</dt>
<dd style="margin-left: 8">
<br> <a href="#error_codes" class="xref">Section 2.4</a> of this document.  </dd>
</dl>
<p> </p>
</li>
<li>
<dl>
<dt>Error Code</dt>
<dd style="margin-left: 8">
<br>jwtHdr</dd>
<dt>Description</dt>
<dd style="margin-left: 8">
<br>An invalid JWT header was detected.</dd>
<dt>Change Controller</dt>
<dd style="margin-left: 8">
<br>IETF Secevent Working Group</dd>
<dt>Defining Document(s)</dt>
<dd style="margin-left: 8">
<br> <a href="#error_codes" class="xref">Section 2.4</a> of this document.  </dd>
</dl>
<p> </p>
</li>
<li>
<dl>
<dt>Error Code</dt>
<dd style="margin-left: 8">
<br>jwtCrypto</dd>
<dt>Description</dt>
<dd style="margin-left: 8">
<br>Unable to parse due to unsupported algorithm.</dd>
<dt>Change Controller</dt>
<dd style="margin-left: 8">
<br>IETF Secevent Working Group</dd>
<dt>Defining Document(s)</dt>
<dd style="margin-left: 8">
<br> <a href="#error_codes" class="xref">Section 2.4</a> of this document.  </dd>
</dl>
<p> </p>
</li>
<li>
<dl>
<dt>Error Code</dt>
<dd style="margin-left: 8">
<br>jws</dd>
<dt>Description</dt>
<dd style="margin-left: 8">
<br>Signature was not validated.</dd>
<dt>Change Controller</dt>
<dd style="margin-left: 8">
<br>IETF Secevent Working Group</dd>
<dt>Defining Document(s)</dt>
<dd style="margin-left: 8">
<br> <a href="#error_codes" class="xref">Section 2.4</a> of this document.  </dd>
</dl>
<p> </p>
</li>
<li>
<dl>
<dt>Error Code</dt>
<dd style="margin-left: 8">
<br>jwe</dd>
<dt>Description</dt>
<dd style="margin-left: 8">
<br>Unable to decrypt JWE encoded data.</dd>
<dt>Change Controller</dt>
<dd style="margin-left: 8">
<br>IETF Secevent Working Group</dd>
<dt>Defining Document(s)</dt>
<dd style="margin-left: 8">
<br> <a href="#error_codes" class="xref">Section 2.4</a> of this document.  </dd>
</dl>
<p> </p>
</li>
<li>
<dl>
<dt>Error Code</dt>
<dd style="margin-left: 8">
<br>jwtAud</dd>
<dt>Description</dt>
<dd style="margin-left: 8">
<br>Invalid audience value.</dd>
<dt>Change Controller</dt>
<dd style="margin-left: 8">
<br>IETF Secevent Working Group</dd>
<dt>Defining Document(s)</dt>
<dd style="margin-left: 8">
<br> <a href="#error_codes" class="xref">Section 2.4</a> of this document.  </dd>
</dl>
<p> </p>
</li>
<li>
<dl>
<dt>Error Code</dt>
<dd style="margin-left: 8">
<br>jwtIss</dd>
<dt>Description</dt>
<dd style="margin-left: 8">
<br>Issuer not recognized.</dd>
<dt>Change Controller</dt>
<dd style="margin-left: 8"><br></dd>
<dt>Defining Document(s)</dt>
<dd style="margin-left: 8">
<br> <a href="#error_codes" class="xref">Section 2.4</a> of this document.  </dd>
</dl>
<p> </p>
</li>
<li>
<dl>
<dt>Error Code</dt>
<dd style="margin-left: 8">
<br>setType</dd>
<dt>Description</dt>
<dd style="margin-left: 8">
<br>An unexpected Event type was received.</dd>
<dt>Change Controller</dt>
<dd style="margin-left: 8">
<br>IETF Secevent Working Group</dd>
<dt>Defining Document(s)</dt>
<dd style="margin-left: 8">
<br> <a href="#error_codes" class="xref">Section 2.4</a> of this document.  </dd>
</dl>
<p> </p>
</li>
<li>
<dl>
<dt>Error Code</dt>
<dd style="margin-left: 8">
<br>setParse</dd>
<dt>Description</dt>
<dd style="margin-left: 8">
<br> Invalid structure was encountered such as an inability to parse or an incomplete set of Event claims.  </dd>
<dt>Change Controller</dt>
<dd style="margin-left: 8">
<br>IETF Secevent Working Group</dd>
<dt>Defining Document(s)</dt>
<dd style="margin-left: 8">
<br> <a href="#error_codes" class="xref">Section 2.4</a> of this document.  </dd>
</dl>
<p> </p>
</li>
<li>
<dl>
<dt>Error Code</dt>
<dd style="margin-left: 8">
<br>setData</dd>
<dt>Description</dt>
<dd style="margin-left: 8">
<br>SET event claims incomplete or invalid.</dd>
<dt>Change Controller</dt>
<dd style="margin-left: 8">
<br>IETF Secevent Working Group</dd>
<dt>Defining Document(s)</dt>
<dd style="margin-left: 8">
<br> <a href="#error_codes" class="xref">Section 2.4</a> of this document.  </dd>
</dl>
<p> </p>
</li>
<li>
<dl>
<dt>Error Code</dt>
<dd style="margin-left: 8">
<br>dup</dd>
<dt>Description</dt>
<dd style="margin-left: 8">
<br> A duplicate SET was received and has been ignored.  </dd>
<dt>Change Controller</dt>
<dd style="margin-left: 8">
<br>IETF Secevent Working Group</dd>
<dt>Defining Document(s)</dt>
<dd style="margin-left: 8">
<br> <a href="#error_codes" class="xref">Section 2.4</a> of this document.  </dd>
</dl>
<p> </p>
</li>
</ul>

<p> </p>
<h1 id="rfc.references">
<a href="#rfc.references">8.</a> References</h1>
<h1 id="rfc.references.1">
<a href="#rfc.references.1">8.1.</a> Normative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC2119">[RFC2119]</b></td>
<td class="top">
<a>Bradner, S.</a>, "<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>", BCP 14, RFC 2119, DOI 10.17487/RFC2119, March 1997.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3986">[RFC3986]</b></td>
<td class="top">
<a>Berners-Lee, T.</a>, <a>Fielding, R.</a> and <a>L. Masinter</a>, "<a href="http://tools.ietf.org/html/rfc3986">Uniform Resource Identifier (URI): Generic Syntax</a>", STD 66, RFC 3986, DOI 10.17487/RFC3986, January 2005.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5246">[RFC5246]</b></td>
<td class="top">
<a>Dierks, T.</a> and <a>E. Rescorla</a>, "<a href="http://tools.ietf.org/html/rfc5246">The Transport Layer Security (TLS) Protocol Version 1.2</a>", RFC 5246, DOI 10.17487/RFC5246, August 2008.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5988">[RFC5988]</b></td>
<td class="top">
<a>Nottingham, M.</a>, "<a href="http://tools.ietf.org/html/rfc5988">Web Linking</a>", RFC 5988, DOI 10.17487/RFC5988, October 2010.</td>
</tr>
<tr>
<td class="reference"><b id="RFC6125">[RFC6125]</b></td>
<td class="top">
<a>Saint-Andre, P.</a> and <a>J. Hodges</a>, "<a href="http://tools.ietf.org/html/rfc6125">Representation and Verification of Domain-Based Application Service Identity within Internet Public Key Infrastructure Using X.509 (PKIX) Certificates in the Context of Transport Layer Security (TLS)</a>", RFC 6125, DOI 10.17487/RFC6125, March 2011.</td>
</tr>
<tr>
<td class="reference"><b id="RFC7159">[RFC7159]</b></td>
<td class="top">
<a>Bray, T.</a>, "<a href="http://tools.ietf.org/html/rfc7159">The JavaScript Object Notation (JSON) Data Interchange Format</a>", RFC 7159, DOI 10.17487/RFC7159, March 2014.</td>
</tr>
<tr>
<td class="reference"><b id="RFC7231">[RFC7231]</b></td>
<td class="top">
<a>Fielding, R.</a> and <a>J. Reschke</a>, "<a href="http://tools.ietf.org/html/rfc7231">Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content</a>", RFC 7231, DOI 10.17487/RFC7231, June 2014.</td>
</tr>
<tr>
<td class="reference"><b id="RFC7517">[RFC7517]</b></td>
<td class="top">
<a>Jones, M.</a>, "<a href="http://tools.ietf.org/html/rfc7517">JSON Web Key (JWK)</a>", RFC 7517, DOI 10.17487/RFC7517, May 2015.</td>
</tr>
<tr>
<td class="reference"><b id="RFC7519">[RFC7519]</b></td>
<td class="top">
<a>Jones, M.</a>, <a>Bradley, J.</a> and <a>N. Sakimura</a>, "<a href="http://tools.ietf.org/html/rfc7519">JSON Web Token (JWT)</a>", RFC 7519, DOI 10.17487/RFC7519, May 2015.</td>
</tr>
<tr>
<td class="reference"><b id="RFC7525">[RFC7525]</b></td>
<td class="top">
<a>Sheffer, Y.</a>, <a>Holz, R.</a> and <a>P. Saint-Andre</a>, "<a href="http://tools.ietf.org/html/rfc7525">Recommendations for Secure Use of Transport Layer Security (TLS) and Datagram Transport Layer Security (DTLS)</a>", BCP 195, RFC 7525, DOI 10.17487/RFC7525, May 2015.</td>
</tr>
<tr>
<td class="reference"><b id="RFC8126">[RFC8126]</b></td>
<td class="top">
<a>Cotton, M.</a>, <a>Leiba, B.</a> and <a>T. Narten</a>, "<a href="http://tools.ietf.org/html/rfc8126">Guidelines for Writing an IANA Considerations Section in RFCs</a>", BCP 26, RFC 8126, DOI 10.17487/RFC8126, June 2017.</td>
</tr>
<tr>
<td class="reference"><b id="RFC8174">[RFC8174]</b></td>
<td class="top">
<a>Leiba, B.</a>, "<a href="http://tools.ietf.org/html/rfc8174">Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words</a>", BCP 14, RFC 8174, DOI 10.17487/RFC8174, May 2017.</td>
</tr>
<tr>
<td class="reference"><b id="RFC8417">[RFC8417]</b></td>
<td class="top">
<a>Hunt, P.</a>, <a>Jones, M.</a>, <a>Denniss, W.</a> and <a>M. Ansari</a>, "<a href="http://tools.ietf.org/html/rfc8417">Security Event Token (SET)</a>", RFC 8417, DOI 10.17487/RFC8417, July 2018.</td>
</tr>
</tbody></table>
<h1 id="rfc.references.2">
<a href="#rfc.references.2">8.2.</a> Informative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="openid-connect-core">[openid-connect-core]</b></td>
<td class="top">
<a>NRI</a>, "<a>OpenID Connect Core 1.0</a>", Nov 2014.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3339">[RFC3339]</b></td>
<td class="top">
<a>Klyne, G.</a> and <a>C. Newman</a>, "<a href="http://tools.ietf.org/html/rfc3339">Date and Time on the Internet: Timestamps</a>", RFC 3339, DOI 10.17487/RFC3339, July 2002.</td>
</tr>
<tr>
<td class="reference"><b id="RFC6749">[RFC6749]</b></td>
<td class="top">
<a>Hardt, D.</a>, "<a href="http://tools.ietf.org/html/rfc6749">The OAuth 2.0 Authorization Framework</a>", RFC 6749, DOI 10.17487/RFC6749, October 2012.</td>
</tr>
<tr>
<td class="reference"><b id="RFC6750">[RFC6750]</b></td>
<td class="top">
<a>Jones, M.</a> and <a>D. Hardt</a>, "<a href="http://tools.ietf.org/html/rfc6750">The OAuth 2.0 Authorization Framework: Bearer Token Usage</a>", RFC 6750, DOI 10.17487/RFC6750, October 2012.</td>
</tr>
<tr>
<td class="reference"><b id="RFC7230">[RFC7230]</b></td>
<td class="top">
<a>Fielding, R.</a> and <a>J. Reschke</a>, "<a href="http://tools.ietf.org/html/rfc7230">Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing</a>", RFC 7230, DOI 10.17487/RFC7230, June 2014.</td>
</tr>
<tr>
<td class="reference"><b id="RFC7235">[RFC7235]</b></td>
<td class="top">
<a>Fielding, R.</a> and <a>J. Reschke</a>, "<a href="http://tools.ietf.org/html/rfc7235">Hypertext Transfer Protocol (HTTP/1.1): Authentication</a>", RFC 7235, DOI 10.17487/RFC7235, June 2014.</td>
</tr>
<tr>
<td class="reference"><b id="RFC7515">[RFC7515]</b></td>
<td class="top">
<a>Jones, M.</a>, <a>Bradley, J.</a> and <a>N. Sakimura</a>, "<a href="http://tools.ietf.org/html/rfc7515">JSON Web Signature (JWS)</a>", RFC 7515, DOI 10.17487/RFC7515, May 2015.</td>
</tr>
<tr>
<td class="reference"><b id="RFC7516">[RFC7516]</b></td>
<td class="top">
<a>Jones, M.</a> and <a>J. Hildebrand</a>, "<a href="http://tools.ietf.org/html/rfc7516">JSON Web Encryption (JWE)</a>", RFC 7516, DOI 10.17487/RFC7516, May 2015.</td>
</tr>
<tr>
<td class="reference"><b id="RFC7521">[RFC7521]</b></td>
<td class="top">
<a>Campbell, B.</a>, <a>Mortimore, C.</a>, <a>Jones, M.</a> and <a>Y. Goland</a>, "<a href="http://tools.ietf.org/html/rfc7521">Assertion Framework for OAuth 2.0 Client Authentication and Authorization Grants</a>", RFC 7521, DOI 10.17487/RFC7521, May 2015.</td>
</tr>
<tr>
<td class="reference"><b id="RFC7617">[RFC7617]</b></td>
<td class="top">
<a>Reschke, J.</a>, "<a href="http://tools.ietf.org/html/rfc7617">The 'Basic' HTTP Authentication Scheme</a>", RFC 7617, DOI 10.17487/RFC7617, September 2015.</td>
</tr>
<tr>
<td class="reference"><b id="saml-core-2.0">[saml-core-2.0]</b></td>
<td class="top">
<a>Internet2</a>, "<a>Assertions and Protocols for the OASIS Security Assertion Markup Language (SAML) V2.0</a>", March 2005.</td>
</tr>
</tbody></table>
<h1 id="rfc.appendix.A">
<a href="#rfc.appendix.A">Appendix A.</a> Other Streaming Specifications</h1>
<p id="rfc.section.A.p.1">[[EDITORS NOTE: This section to be removed prior to publication]]</p>
<p id="rfc.section.A.p.2">The following pub/sub, queuing, streaming systems were reviewed as possible solutions or as input to the current draft:</p>
<p id="rfc.section.A.p.3">XMPP Events</p>
<p id="rfc.section.A.p.4">The WG considered the XMPP events ands its ability to provide a single messaging solution without the need for both polling and push modes.  The feeling was the size and methodology of XMPP was to far apart from the current capabilities of the SECEVENTs community which focuses in on HTTP based service delivery and authorization.</p>
<p id="rfc.section.A.p.5">Amazon Simple Notification Service</p>
<p id="rfc.section.A.p.6">Simple Notification Service, is a pub/sub messaging product from AWS. SNS supports a variety of subscriber types: HTTP/HTTPS endpoints, AWS Lambda functions, email addresses (as JSON or plain text), phone numbers (via SMS), and AWS SQS standard queues. It doesn&#8217;t directly support pull, but subscribers can get the pull model by creating an SQS queue and subscribing it to the topic. Note that this puts the cost of pull support back onto the subscriber, just as it is in the push model. It is not clear that one way is strictly better than the other; larger, sophisticated developers may be happy to own message persistence so they can have their own internal delivery guarantees.  The long tail of OIDC clients may not care about that, or may fail to get it right. Regardless, I think we can learn something from the Delivery Policies supported by SNS, as well as the delivery controls that SQS offers (e.g. Visibility Timeout, Dead-Letter Queues). I&#8217;m not suggesting that we need all of these things in the spec, but they give an idea of what features people have found useful.</p>
<p id="rfc.section.A.p.7">Other information:</p>

<ul>
<li>API Reference: http://docs.aws.amazon.com/AWSSimpleQueueService/latest/APIReference/Welcome.html</li>
<li>Visibility Timeouts: http://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-visibility-timeout.html</li>
</ul>
<p id="rfc.section.A.p.8">Apache Kafka</p>
<p id="rfc.section.A.p.9">Apache Kafka is an Apache open source project based upon TCP for distributed streaming. It prescribes some interesting general purpose features that seem to extend far beyond the simpler streaming model SECEVENTs is after. A comment from MS has been that Kafka does an acknowledge with poll combination event which seems to be a performance advantage. See: https://kafka.apache.org/intro</p>
<p id="rfc.section.A.p.10">Google Pub/Sub</p>
<p id="rfc.section.A.p.11">Google Pub Sub system favours a model whereby polling and acknowledgement of events is done as separate endpoints as separate functions.</p>
<p id="rfc.section.A.p.12">Information:</p>

<ul>
<li>Cloud Overview - https://cloud.google.com/pubsub/</li>
<li>Subscriber Overview - https://cloud.google.com/pubsub/docs/subscriber</li>
<li>Subscriber Pull(poll) - https://cloud.google.com/pubsub/docs/pull</li>
</ul>
<h1 id="rfc.appendix.B">
<a href="#rfc.appendix.B">Appendix B.</a> Acknowledgments</h1>
<p id="rfc.section.B.p.1">The editors would like to thanks the members of the SCIM WG which began discussions of provisioning events starting with: draft-hunt-scim-notify-00 in 2015.</p>
<p id="rfc.section.B.p.2">The editors would like to thank Phil Hunt and the other authors of draft-ietf-secevent-delivery-02, on which this draft is based.</p>
<p id="rfc.section.B.p.3">The editor would like to thank the participants in the the SECEVENTS working group for their support of this specification.</p>
<h1 id="rfc.appendix.C">
<a href="#rfc.appendix.C">Appendix C.</a> Change Log</h1>
<p id="rfc.section.C.p.1">Draft 00 - AB - Based on draft-ietf-secevent-delivery-02 with the following changes:</p>

<ul>
<li>Renamed to "Push-Based SET Token Delivery Using HTTP"</li>
<li>Removed references to the HTTP Polling delivery method.</li>
<li>Removed informative reference to RFC6202.</li>
</ul>
<p id="rfc.section.C.p.2">Draft 01 - AB: </p>

<ul>
<li>Fixed area and workgroup to match secevent.</li>
<li>Removed unused definitions and definitions already covered by SET.</li>
<li>Renamed Event Transmitter and Event Receiver to SET Transmitter and SET Receiver, respectively.</li>
<li>Added IANA registry for SET Delivery Error Codes.</li>
<li>Removed enumeration of HTTP authentication methods.</li>
<li>Removed generally applicable guidance for HTTP, authorization tokens, and bearer tokens.</li>
<li>Moved guidance for using authentication methods as DoS protection to Security Considerations.</li>
<li>Removed redundant instruction to use WWW-Authenticate header.</li>
<li>Removed further generally applicable guidance for authorization tokens.</li>
<li>Removed bearer token from example delivery request, and text referencing it.</li>
<li>Broke delivery method description into separate request/response sections.</li>
<li>Added missing empty line between headers and body in example request.</li>
<li>Removed unapplicable notes about example formatting.</li>
<li>Removed text about SET creation and handling.</li>
<li>Removed duplication in protocol description.</li>
<li>Added "non-normative example" text to example transmission request.</li>
<li>Fixed inconsistencies in use of Error Code term.</li>
</ul>

<p> </p>
<p id="rfc.section.C.p.3">Draft 02 - AB: </p>

<ul>
<li>Rewrote abstract and introduction.</li>
<li>Rewrote definitions for SET Transmitter, SET Receiver.</li>
<li>Renamed Event Delivery section to SET Delivery.</li>
<li>Readability edits to Success Response and Failure Response sections.</li>
<li>Consolidated definition of error response under Failure Response section.</li>
<li>Removed Event Delivery Process section and moved its content to parent section.</li>
<li>Readability edits to SET Delivery section and its subsections.</li>
<li>Added callout that SET Receiver HTTP endpoint configuration is out-of-scope.</li>
<li>Added callout that SET verification mechanisms are out-of-scope.</li>
<li>Added retry guidance, notes regarding delivery reliability requirements.</li>
</ul>

<p> </p>
<h1 id="rfc.authors"><a href="#rfc.authors">Authors' Addresses</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Annabelle Backman</span> (editor)
	  <span class="n hidden">
		<span class="family-name">Backman</span>
	  </span>
	</span>
	<span class="org vcardline">Amazon</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:richanna@amazon.com">richanna@amazon.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Michael B. Jones</span> (editor)
	  <span class="n hidden">
		<span class="family-name">Jones</span>
	  </span>
	</span>
	<span class="org vcardline">Microsoft</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:mbj@microsoft.com">mbj@microsoft.com</a></span>

<span class="vcardline">URI: <a href="http://self-issued.info/">http://self-issued.info/</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Marius Scurtescu</span> 
	  <span class="n hidden">
		<span class="family-name">Scurtescu</span>
	  </span>
	</span>
	<span class="org vcardline">Google</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:mscurtescu@google.com">mscurtescu@google.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Morteza Ansari</span> 
	  <span class="n hidden">
		<span class="family-name">Ansari</span>
	  </span>
	</span>
	<span class="org vcardline">Cisco</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:morteza.ansari@cisco.com">morteza.ansari@cisco.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Anthony Nadalin</span> 
	  <span class="n hidden">
		<span class="family-name">Nadalin</span>
	  </span>
	</span>
	<span class="org vcardline">Microsoft</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:tonynad@microsoft.com">tonynad@microsoft.com</a></span>

  </address>
</div>

</body>
</html>
